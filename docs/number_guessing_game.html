<!DOCTYPE html>
<html>
  <head>
    <title>Parcel | Number Guessing Game</title>
    <meta charset="utf-8">
  </head>
  <body>
    <!--This was adapted from developer.mozila.org 's random number guessing game tutorial. I encourage you to check out the tutorial here: https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/A_first_splash-->
    <h2>Welcome to the Random Number Guessing Game!</h2>
    <p>A random number between 1 and 100 has been picked. If you can guess it within 10 tries, you win! If your guess is wrong, then the game will tell you if it's too high or low. Good luck!</p>
    <form>
      <label for="guessfield">Enter a Guess:</label>
      <input type="text" id="guessfield" class="guessfield">
      <input type="submit" value="Submit" class="guessSubmit">
    </form>
    <div class="resultparas">
      <p class="guesses"></p>
      <p class="lastresult"></p>
      <p class="loworhi"></p>
    </div>
 
    <script>
      let randomnumber = Math.floor(Math.random() * 100) + 1;
      
      const guesses = document.querySelector('.guesses');
      const lastresult = document.querySelector('.lastresult');
      const loworhi = document.querySelector('.loworhi');
      
      const guessSubmit = document.querySelector('.guessSubmit');
      const guessfield = document.querySelector('.guessfield');
      
      let guesscount = 1;
      let resetbutton;
      
      function checkguess() {
        let userGuess = Number(guessfield.value);
        if (guesscount === 1) {
          guesses.textContent = "Previous Guesses: ";
        }
        guesses.textContent += userGuess + ' ';
        
        if (userGuess === randomnumber) {
          lastresult.textContent = "Congrats! You got it right!";
          lastresult.style.backgroundColor = 'green';
          loworhi.textContent = '';
          setGameOver();
        } else if (guesscount === 10) {
          lastresult.textContent = "Game Over!";
          setGameOver();
        } else {
          lastresult.textContent = "Incorrect!";
          lastresult.style.backgroundColor = "red;
          if (userguess > randomnumber) {
           loworhi.textContent = "Your guess was too high!"; 
          } else if (userguess < randomnumber) {
           loworhi.textContent = "Your guess was too low!"; 
          }
        }
        guesscount++;
        guessfield.value = '';
        guessfield.focus;
      }
      
      guessSubmit.addEventListener('click', checkguess);
      
      function setGameOver() {
        guessfield.disabled = true;
        guessSubmit.disabled = true;
        resetButton = document.createElement("Button");
        resetButton.textContent = "Start New Game?";
        document.body.append(resetButton);
        resetButton.addEventListener('click', resetGame)
      }
      
      function resetGame() {
       guesscount = 1;
        
        const resetparas = document.querySelectorAll(".resultParas p");
        for (let i = 0 ; i < resetparas.length ; i++) {
          resetparas[i].textContent = '';
        }
        
        resetButton.parentNode.removeChild(resetButton);
        
        guessfield.disabled = false;
        guessSubmit.disabled = false;
        guessfield.value = '';
        guessfield.focus();
        
        lastresult.style.backgroundColor = "white";
        randomnumber = Math.floor(Math.random() * 100) + 1;
      }
    </script>
  </body>
<html>
